# Техническое задание: Telegram-бот для фитнес-тренеров с AI

## 1. Общая информация
**Название проекта:** Telegram-бот для фитнес-тренеров с AI (OpenAI GPT-4.1 nano)  
**Цель:** Автоматизация работы фитнес-тренеров по ведению клиентов, расчету КБЖУ и составлению индивидуальных планов питания.

## 2. Функциональные требования

### 2.1. Основные функции
- Интеграция с OpenAI GPT-4.1 nano (через API-ключ).
- Ведение базы клиентов (без ограничений по количеству).
- Расчет КБЖУ по формуле Бенедикта на основе анкеты клиента.
- Составление индивидуального плана питания на 1 день с учетом КБЖУ, аллергий, предпочтений и ограничений.
- Использование RAG-системы для поиска информации и генерации ответов (без ссылок в сообщениях).
- Дружелюбный стиль общения, добавление актуальных мемов для повышения вовлеченности.

### 2.2. Интерфейс пользователя (Telegram-бот)
- Реализация на Python с использованием библиотеки aiogram.
- Главное меню с кнопками:
  - "Добавить нового клиента"
  - "Список клиентов"
- В процессе добавления клиента:
  - Вопросы с кнопками для выбора пола, уровня активности, цели (похудение/набор/поддержание веса).
  - Возможность отмены процесса добавления клиента ("Отмена" только в процессе добавления).
- В анкете клиента хранится: имя, возраст, пол, рост, вес, уровень активности, цель, КБЖУ.
- В разделе "Список клиентов":
  - Просмотр полной информации по клиенту.
  - Кнопки "Редактировать", "Удалить", "Расписать план питания".
  - Генерация плана питания на 1 день с учетом КБЖУ и ограничений.
  - Уточнение по продуктам-аллергенам, предпочтениям, религиозным ограничениям перед генерацией плана.

### 2.3. Хранение данных
- На этапе разработки: локальная БД (SQLite).
- В будущем: возможность миграции на масштабируемую БД (например, PostgreSQL).

### 2.4. RAG-система
- Использование файлов (PDF, таблицы) для поиска информации и генерации ответов.
- Без вывода ссылок в ответах.

### 2.5. Язык и стиль
- Язык интерфейса: русский.
- Стиль общения: дружелюбный, с элементами современных мемов (по ситуации).

### 2.6. Производительность
- Оптимальная скорость работы, минимальное время ожидания ответа пользователя.

### 2.7. Масштабирование и коммерциализация
- Возможность интеграции системы подписок в будущем (монетизация).
- Открытый доступ для всех на этапе разработки, далее — через оплату подписки.

## 3. Нефункциональные требования

- Код на Python, с использованием aiogram.
- Возможность локального запуска и последующего деплоя на сервер.
- Чистота и читаемость кода, комментарии на русском языке.
- Возможность расширения функционала (например, добавление новых языков, интеграция с платёжными системами).

## 4. Ограничения

- На этапе MVP — только русский язык.
- План питания — только на 1 день.
- Без ссылок на внешние ресурсы в ответах.

## 5. Рекомендации по реализации

- Для хранения данных на этапе разработки использовать SQLite, при масштабировании — перейти на PostgreSQL.
- Для RAG-системы использовать локальное хранение документов и таблиц, интеграция с внешними источниками — по мере необходимости.
- Для интеграции мемов использовать заранее подготовленный набор или API (по согласованию).
- Для генерации кнопок использовать стандартные возможности Telegram Bot API и aiogram.
- Использовать структуру кода, которая позволит легко добавлять новые функции и интеграции.